{"version":3,"sources":["context/actions.ts","components/header.tsx","context/reducer.ts","components/block.tsx","context/context-provider.tsx","components/transaction.tsx","services/index.ts","components/blockchain.tsx","components/unconfirmed-tx.tsx","components/wallet.tsx","components/control-panel.tsx","components/status-message.tsx","App.tsx","context/connector.tsx","reportWebVitals.js","index.js"],"names":["ActionType","Header","state","dispatch","className","StatusLevel","blockchainAction","payload","type","BLOCKCHAIN","unconfirmedTxPoolAction","UNCONFIRMED_TX_POOL","statusMessageAction","STATUS_MESSAGE","Direction","initialState","blockchain","blocks","hostDetails","unconfirmedTxPool","statusMessage","message","reducer","action","console","log","BLOCK","HOST_DETAILS","clone","JSON","parse","stringify","hostArray","Object","values","forEach","push","ipAddress","hostname","parseInt","split","sortedHosts","sort","first","second","CLEAR_HOSTS","pool","level","GlobalStateContext","React","createContext","warn","FirstcoinStateProvider","children","useReducer","Provider","value","TxOut","txOData","formatKey","scriptPubKey","TxIn","txInData","txid","vout","scriptSig","substring","key","length","Transaction","txData","timestamp","toString","map","txO","index","vin","txIn","Block","blockData","last","direction","useState","expand","setExpand","duration","height","onClick","hash","previousHash","difficultyLevel","transactions","tx","Forwards","HOST_NAME","process","REACT_APP_HOST_NAME","fetchBlockchain","a","fetch","response","ok","json","Error","status","mineBlock","method","body","b","fetchHosts","fetchUnconfirmedTxPool","spendCoinRelay","host","to","amount","address","resp","fetchControlPanel","e","Button","fetching","setFetching","mine","block","src","Blockchain","useEffect","chain","f","messagesEndRef","useRef","current","scrollIntoView","behavior","ref","UnconfirmedTx","unconfirmedTxData","Wallet","totalAmount","setTo","setAmount","pay","ERROR","atob","navigator","clipboard","writeText","onChange","event","target","rows","placeholder","ControlPanel","hostDetail","StatusMessage","setTimeout","BLANK","style","position","zIndex","connect","Component","props","Consumer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6d67219.chunk.js","sourcesContent":["import { Blockchain, IBlock, IHostDetails, IStatusMessage, ITransaction } from \"./reducer\"\n\nexport enum ActionType {\n    BLOCKCHAIN=\"BLOCKCHAIN\",\n    BLOCK=\"BLOCK\",\n    HOST_DETAILS=\"HOST_DETAILS\",\n    UNCONFIRMED_TX_POOL=\"UNCONFIRMED_TX_POOL\",\n    CLEAR_HOSTS=\"CLEAR_HOSTS\",\n    STATUS_MESSAGE=\"STATUS_MESSAGE\"\n}\n\nexport interface IAction<T> {\n    type: ActionType;\n    payload: T\n}\n\nexport const blockchainAction = (payload: Blockchain) : IAction<Blockchain> => {\n    return {\n        type: ActionType.BLOCKCHAIN,\n        payload: payload\n    }\n}\n\nexport const blockAction = (payload: IBlock) : IAction<IBlock> => {\n    return {\n        type: ActionType.BLOCK,\n        payload: payload\n    }\n}\n\n\nexport const hostDetailsAction = (payload: IHostDetails[]) : IAction<IHostDetails[]> => {\n    return {\n        type: ActionType.HOST_DETAILS,\n        payload: payload\n    }\n}\n\nexport const clearHostDetailsAction = (payload: {}) : IAction<{}> => {\n    return {\n        type: ActionType.CLEAR_HOSTS,\n        payload: payload\n    }\n}\n\ninterface Pool{\n    pool: ITransaction[]\n}\n\nexport const unconfirmedTxPoolAction = (payload: Pool) : IAction<Pool> => {\n    return {\n        type: ActionType.UNCONFIRMED_TX_POOL,\n        payload: payload\n    }\n}\n\nexport const statusMessageAction = (payload: IStatusMessage) : IAction<IStatusMessage> => {\n    return {\n        type: ActionType.STATUS_MESSAGE,\n        payload: payload\n    }\n}","import {Context} from '../context/context-provider'\n\nconst Header = ({state, dispatch}: Context) => {\n\n    return(\n        <div className=\"bg-background2 flex flex-col items-center h-24 border-b border-grey mb-10\">\n            <div className=\"text-trendyBlue font-bold text-xl\">Firstcoin</div>\n            <div className=\"text-trendyGrey font-bold\">Freddie O'Donnell</div>\n            <div className=\"text-trendyGrey\">Cape Town</div>\n        </div>\n    )\n}\n\nexport default Header","import { format } from 'path';\nimport { ActionType, hostDetailsAction, IAction } from './actions';\n\nexport interface IBlock{\n    index: number;\n    previousHash: string;\n    transactions: ITransaction[];\n    timestamp: number;\n    difficultyLevel: number;\n    nonce: number;\n    hash: string;\n}\n\nexport interface ITxOutputs{\n    scriptPubKey: string;\n    value: number;\n}\n\nexport interface ITxInputs{\n    txid: string;\n    vout: number;\n    scriptSig: string;\n}\n\nexport interface ITransaction{\n    txid: string;\n    locktime: number;\n    vin: ITxInputs[];\n    vout: ITxOutputs[];\n    timestamp: number;\n}\n\nexport interface Blockchain{\n    blocks: IBlock[]\n}\n\nexport enum StatusLevel {\n    ERROR = \"ERROR\",\n    SUCCESS = \"SUCCESS\",\n    NOTICE = \"NOTICE\",\n    BLANK = \"BLANK\"\n  }\n\nexport interface IStatusMessage{\n    message: string;\n    level?: StatusLevel;\n}\n\nexport interface IHostDetails {\n    address: string;\n    totalAmount: number;\n    hostname: string;\n}\n\nexport interface InitialState {\n    blockchain: Blockchain;\n    hostDetails: IHostDetails[];\n    unconfirmedTxPool: ITransaction[];\n    statusMessage: IStatusMessage;\n}\n\nexport const initialState: InitialState = {\n    blockchain: {\n        blocks: []\n    },\n    hostDetails: [],\n    unconfirmedTxPool: [],\n    statusMessage:{\n        message:\"\"\n    }\n}\n\n\nconst reducer : (state: InitialState, action: IAction<any>) => InitialState = (state, action) => {\n    console.log(\"-------------state before-----------------\")\n    console.log(state)\n    console.log(\"----------------action--------------------\")\n    console.log(action)\n\n    switch (action.type) {\n        case ActionType.BLOCKCHAIN:{\n            const newState = {\n                ...state,\n                blockchain: {\n                    ...state.blockchain,\n                    ...action.payload\n                }\n            }\n            \n            return newState\n        }\n            \n        case ActionType.BLOCK:{\n            const newState = {\n                ...state,\n                blockchain: {\n                    ...state.blockchain,\n                    ...action.payload\n                }\n            }\n            \n            return newState\n        }\n        \n        case ActionType.HOST_DETAILS:{\n            const clone:{[key: number]: IHostDetails} = JSON.parse(JSON.stringify(action.payload));\n            const hostArray: IHostDetails[] = []\n            Object.values(clone).forEach(hostDetails => hostArray.push(hostDetails))\n            \n            const ipAddress = (hostname : string) => {\n                return parseInt(hostname.split(\":\")[1])\n            }\n        \n            const sortedHosts = hostArray.sort((first: IHostDetails, second: IHostDetails) => {\n                if (ipAddress(first.hostname) < ipAddress(second.hostname)){\n                    return -1\n                }\n              \n                return 1\n            })\n                \n            const newState = {\n                ...state,\n                hostDetails: sortedHosts,\n            }\n            \n            return newState\n        }\n        \n        case ActionType.CLEAR_HOSTS:{                        \n            const newState = {\n                ...state,\n                hostDetails: []\n            }\n            \n            return newState\n        }\n        \n        case ActionType.UNCONFIRMED_TX_POOL:{                        \n            const newState = {\n                ...state,\n                unconfirmedTxPool: action.payload.pool\n            }\n            \n            return newState\n        }\n        \n        case ActionType.STATUS_MESSAGE:{     \n            if (action.payload.message !== state.statusMessage.message && action.payload.level !== state.statusMessage.level){\n                const newState = {\n                    ...state,\n                    statusMessage: {...action.payload}\n                }\n                \n                return newState\n            }\n                               \n            \n            return state\n        }\n        \n      default:\n        return state;\n    }\n  }\n  \n  export default reducer","import 'animate.css'\nimport './block.css'\nimport {IBlock} from '../context/reducer'\nimport { useState } from 'react'\nimport Transaction from './transaction'\nimport '../styles/theme.css'\nimport AnimateHeight from 'react-animate-height';\n\nexport enum Direction {\n  Backwards,\n  Forwards\n}\n\ninterface IBlockProps{\n  blockData: IBlock; \n  last: boolean;\n  direction: Direction;\n}\n\nconst Block = ({blockData, last, direction}: IBlockProps) => {\n   const [expand, setExpand] = useState(false)\n   \n    return (\n      <div className=\"w-full flex flex-col items-center\">\n        <div className=\"w-5/12 transform transition duration-500 hover:scale-105 flex flex-col items-center\">\n        <AnimateHeight\n          duration={ 500 }\n          height={ expand ? 'auto': 150}\n          className=\"w-full border-2 border-trendyGrey rounded-lg animate__animated animate__rubberBand\"\n        >\n        <div onClick={() => setExpand(!expand)} className=\" cursor-pointer\">\n            <div className={`rounded text-trendyGrey bg-trendyGreen tran block p-2 overflow-hidden`}>\n              <div>\n                index: {blockData.index}\n              </div>\n              <div>\n                hash: {blockData.hash.substring(0,10)}...\n              </div>          \n              <div>\n                prev: {blockData.previousHash ? blockData.previousHash.substring(0,10) : null}\n              </div>\n              <div>\n                difficulty: {blockData.difficultyLevel}\n              </div>\n              <div>\n                time: {blockData.timestamp}\n              </div>\n              <div>\n                transactions: {blockData.transactions.map((tx, index) => {\n                  return <Transaction key={index} txData={tx}/>\n                })}\n              </div>\n            </div>\n\n          {/* {!displayArrow && <img className=\"\" src={'minecoin.gif'} alt=\"loading...\" />} */}\n\n        </div>\n        </AnimateHeight>\n        </div>\n        \n        {direction == Direction.Forwards &&\n          !last && <span className=\"arrow arrow-down\"></span>\n        }\n      </div>\n      \n\n        \n    )\n}\n\nexport default Block","import React, { ReactChild, useReducer } from 'react'\nimport { IAction } from './actions'\nimport reducer, { InitialState, initialState } from './reducer'\n\nexport interface Context {\n    state: InitialState,\n    dispatch: React.Dispatch<IAction<any>>\n}\n\nexport const GlobalStateContext = React.createContext<Context>({\n    state: initialState,\n    dispatch: (action: IAction<any>) => console.warn(`WARNING! Dispatch function not set. Attemting to dispatch ${action}`)\n})\n\nconst FirstcoinStateProvider = ({children}:{children: ReactChild}) => {\n    let localState = {}\n    \n    let [state, dispatch] = useReducer(reducer, {...initialState, ...localState})\n    console.log(\"-------------state after-----------------\")\n    console.log(state)\n    \n    return (\n        <GlobalStateContext.Provider value={{state, dispatch}}>\n            {children}\n        </GlobalStateContext.Provider>\n    )\n}\n\nexport default FirstcoinStateProvider","\nimport 'animate.css'\nimport './block.css'\nimport {ITransaction, ITxInputs, ITxOutputs} from '../context/reducer'\n\nconst Transaction = ({txData}: {txData: ITransaction}) => {\n    return (\n        <div className=\"text-xs\">\n            <div>\n                id: {txData.txid.substring(0,5)}...\n            </div> \n            <div>\n                timestamp: {txData.timestamp.toString().substring(0,10)}...\n            </div>\n            <div>\n                txO: [\n                        {txData.vout.map((txO, index) => {\n                            return (\n                                <div key={index} className=\"pl2\">\n                                    <TxOut txOData={txO}/>\n                                </div>\n                            )\n                    })}\n                ]\n            </div>\n            <div>\n                txIn: [\n                        {txData.vin.map((txIn, index) => {\n                            return (\n                                <div key={index} className=\"pl2\">\n                                    <TxIn txInData={txIn}/>\n                                </div>\n                            )\n                    })}\n                ]\n            </div>\n        </div> \n    )\n}\n\nconst TxOut = ({txOData}: {txOData: ITxOutputs}) => {\n    return (\n        <div>\n            <div>\n                scriptPubKey: {formatKey(txOData.scriptPubKey)}\n            </div>\n            <div>\n                value: {txOData.value}\n            </div>\n        </div>\n    )\n}\n\nconst TxIn = ({txInData}: {txInData: ITxInputs}) => {\n    return (\n        <div>\n            <div>\n                txid: {txInData.txid}\n            </div>\n            <div>\n                vout: {txInData.vout}\n            </div>\n            <div>\n                scriptSig: {txInData.scriptSig.substring(0,5)} ...\n            </div>\n        </div>\n    )\n}\n\nexport const formatKey : (key: string) => string = (key: string) => {\n    return(\n        `${key.substring(0,5)}...${key.substring(20,25)}...${key.substring(key.length - 6,key.length - 1)}`\n    )\n}\n\nexport default Transaction","import { clearHostDetailsAction, hostDetailsAction, IAction, unconfirmedTxPoolAction } from '../context/actions';\nimport {Blockchain, IHostDetails, IBlock, ITransaction} from '../context/reducer'\n\nvar HOST_NAME = process.env.REACT_APP_HOST_NAME ? process.env.REACT_APP_HOST_NAME : \"\"\n\nexport const fetchBlockchain : () => Promise<Blockchain> = async () => {\n    const response = await fetch(`${HOST_NAME}/block-chain`);\n    if (response.ok){\n      return response.json()\n    }\n    throw new Error(\"fetch blockchain returns \"+response.status)\n}\n\nexport const mineBlock : () => Promise<IBlock> = async () => {\n  const response = await fetch(`${HOST_NAME}/create-block`,{\n    method: \"POST\",\n    body:JSON.stringify({a: 1, b: 'Textual content'})\n  });\n  if (response.ok){\n    return response.json()\n  }\n  const message = await response.json()\n  console.log(message)\n  throw new Error(\"create blockchain returns \"+response.status)\n}\n\nexport const fetchHosts : () => Promise<IHostDetails[]> = async () => {\n  const response = await fetch(`${HOST_NAME}/hosts`,{\n    method: \"POST\",\n    body: JSON.stringify({})\n  });\n  if (response.ok){\n    return response.json()\n  }\n  throw new Error(\"fetch hosts returns \"+response.status)\n}\n\ntype txPoolObject = { [key: string]: ITransaction };\n\nexport const fetchUnconfirmedTxPool : () => Promise<txPoolObject> = async () => {\n  const response = await fetch(`${HOST_NAME}/txpool`,{\n    method: \"GET\"\n  });\n  if (response.ok){\n    return response.json()\n  }\n  throw new Error(\"fetch host details returns \"+response.status)\n}\n\n//this sends the request to the main node - which passes the request on to the internal network\nexport const spendCoinRelay : (host: string, to: string, amount: number) => Promise<txPoolObject> = async (host, to, amount) => {\n  const response = await fetch(`${HOST_NAME}/spend-coin-relay`,{\n    method: \"POST\",\n    body: JSON.stringify({host:host, address: to, amount: amount})\n  });\n  \n  if (response.ok){\n    return response.json()\n  }\n  \n  const resp = await response.json()\n  throw new Error(`pay from host ${host} returns ${response.status} ${resp.message}`)\n}\n\nexport const fetchControlPanel = async (dispatch: React.Dispatch<IAction<any>>) => {\n  try{\n      const hostDetails = await fetchHosts()  \n      try{\n        dispatch(hostDetailsAction({\n          ...hostDetails\n        }))\n      }catch(e){\n        console.log(e)\n      }\n      \n      const unconfirmedTxPool = await fetchUnconfirmedTxPool()\n      dispatch(unconfirmedTxPoolAction({\n          pool: Object.values(unconfirmedTxPool)\n      }))   \n      \n  }catch(e){\n      console.log(e)\n  }\n}","import 'animate.css'\nimport './block.css'\nimport Block, { Direction } from './block'\nimport { useEffect, useRef, useState } from 'react'\nimport { fetchBlockchain, fetchControlPanel, mineBlock } from '../services'\nimport { Context } from '../context/context-provider'\nimport { blockAction, blockchainAction, IAction } from '../context/actions'\nimport './style.css'\nimport React from 'react'\n\ninterface IBlockchain extends Context{\n}\n\nconst Blockchain = ({state, dispatch}: IBlockchain) => {\n    useEffect(() => {\n        async function f(){\n            try{\n                const chain = await fetchBlockchain()\n                dispatch(blockchainAction({\n                    blocks: chain.blocks\n                }))\n            }catch(e){\n                console.log(e)\n            }\n        }\n\n        f()\n\n    },[dispatch])\n    const messagesEndRef = useRef<any>(null)\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }\n    \n    useEffect(scrollToBottom, [state.blockchain]);\n    \n    return (\n        <div>\n            <div className=\"grid grid-cols-1 gap-4\">\n                {state.blockchain.blocks.map((block, index) => {\n                    return (\n                        <Block \n                        key={index} \n                        direction={Direction.Forwards} \n                        last={index === state.blockchain.blocks.length - 1} \n                        blockData={block}\n                    />     \n                )})}\n                <div ref={messagesEndRef}/>\n\n            </div>\n            <div className=\"pt-10 flex justify-center items-center w-full\">\n                <Button dispatch={dispatch}/>\n            </div>\n        </div>\n        \n    )\n}\n\nconst Button : any = ({dispatch}:{dispatch:React.Dispatch<IAction<any>>}) => {\n    const [fetching, setFetching] = useState(false)\n    const mine = async () => {\n        try{\n            setFetching(true)\n            const block = await mineBlock()\n            dispatch(blockAction(block))\n            fetchControlPanel(dispatch)\n        }catch(e){\n            console.log(e)\n        }\n        setFetching(false)\n\n    }\n    return (\n        <div>\n            {fetching ?\n            <div className=\"flex justify-center\">\n                <img className=\"w-3/6\" src=\"gntl-mining.gif\">\n                </img>\n            </div>\n            :\n            <div onClick={mine} className={`h-24 w-36 mb-28 bg-trendyBlue text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                Mine\n            </div>}\n        </div> \n    )\n}\n\nexport default Blockchain","import { ITransaction } from \"../context/reducer\"\nimport { formatKey } from \"./transaction\"\n\nconst UnconfirmedTx = ({unconfirmedTxData}: {unconfirmedTxData: ITransaction}) => {\n    return(\n        <div className=\"border border-black w-11/12 h-24 mb-10 bg-white\">\n            <div className=\"p-2\">\n                using tx: {formatKey(unconfirmedTxData.vin[0].txid)}\n            </div>\n            <div className=\"p-2\">\n                pay to: {formatKey(unconfirmedTxData.vout[0].scriptPubKey)}  amount: {unconfirmedTxData.vout[0].value}\n            </div>\n                 {unconfirmedTxData?.vout[1]&&\n                     <>\n                        {formatKey(unconfirmedTxData?.vout[1]?.scriptPubKey)}  amount: {unconfirmedTxData?.vout[1]?.value}\n                     </>\n                }\n            <div>\n            </div>\n        </div>\n    )\n}\n\nexport default UnconfirmedTx","import { useState } from 'react'\nimport { IAction, statusMessageAction } from '../context/actions'\nimport { spendCoinRelay } from '../services'\nimport { formatKey } from './transaction'\nimport { fetchControlPanel } from \"../services\"\n\nimport './wallet.css'\nimport { StatusLevel } from '../context/reducer'\n\ninterface IWallet{\n    colour?: string;\n    address: string;\n    totalAmount: number;\n    host: string;\n    dispatch: React.Dispatch<IAction<any>>;\n}\n\nconst Wallet = ({host, address, totalAmount, dispatch}: IWallet) => {\n    const [to, setTo] = useState(\"\")\n    const [amount, setAmount] = useState(0)\n    const copy = () => {navigator.clipboard.writeText(address)}\n    const pay = async () => {\n        try{\n            const response = await spendCoinRelay(host, to, amount)\n            fetchControlPanel(dispatch)\n        }catch(e: any){\n            dispatch(statusMessageAction({\n                level: StatusLevel.ERROR,\n                message: e\n            }))\n            console.log(e)\n        }\n    }\n    return (\n        <div className=\"rounded-md text-white p-4 min-h-100 w-4/5 bg-trendyBlue mb-10\">\n            <div className=\"justify-content flex space-x-4 pb-4\">\n                <div className=\"flex items-center\">\n                    <div>\n                        address: {formatKey(atob(address))}\n                    </div>\n                </div>\n                <div onClick={copy} className={`h-10 w-16 bg-trendyYellow text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                    Copy\n                </div> \n                \n            </div>\n            <div className=\"mb-4 flex\">\n                <div className=\"flex align-center space-between\">\n                    <div className=\"text-white pr-4 whitespace-nowrap flex flex-col justify-center\"><div className=\"\">Pay:</div></div>\n                    <textarea onChange={(event) => setAmount(parseInt(event.target.value))} className=\"form-textarea mt-1 mr-2 block w-9/12 border-white overflow-hidden\" rows={1} placeholder=\"Amount\"></textarea>\n                    <textarea onChange={(event) => setTo(event.target.value)} className=\"form-textarea mt-1 mr-2 block w-9/12 border-white overflow-hidden\" rows={1} placeholder=\"To\"></textarea>\n                </div>\n                <div onClick={pay} className={`h-10 w-16 mt-1 bg-trendyYellow text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                    Pay\n                </div> \n            </div>\n            <div>\n                Balance: {totalAmount}\n            </div>\n        </div>\n    )\n}\n\nexport default Wallet","import { useEffect } from \"react\"\nimport { Context } from \"../context/context-provider\"\nimport { fetchControlPanel } from \"../services\"\nimport UnconfirmedTx from \"./unconfirmed-tx\"\nimport Wallet from \"./wallet\"\n\ninterface IControlPanel extends Context{\n}\n\nconst ControlPanel = ({state, dispatch}: IControlPanel) => {\n    useEffect(() => {\n        fetchControlPanel(dispatch)\n    },[dispatch])\n    \n    return (\n        <div className=\"flex flex-col items-center border-4 border-trendyTurquoise rounded-lg fixed right-0 h-screen bottom-0 w-4/12 overflow-y-scroll\">\n            <div className=\"flex mb-16 items-center justify-center mt-10 font-trendyGrey text-3xl font-medium\">\n                Control Panel\n            </div>\n            <div className=\"flex mb-10 items-center justify-center font-trendyGrey text-xl font-medium\">\n                Global Wallets\n            </div>\n            {state?.hostDetails?.map((hostDetail, index) => {\n                return (\n                    <Wallet key={index} dispatch={dispatch} host={hostDetail.hostname} address={hostDetail.address} totalAmount={hostDetail.totalAmount}/>\n                )\n            })}\n            <div className=\"flex mb-10 items-center justify-center font-trendyGrey text-xl font-medium\">\n                Unconfirmed Transaction pool\n            </div>\n            {state?.unconfirmedTxPool?.map((tx, index) => {\n                return (\n                    <UnconfirmedTx key={index} unconfirmedTxData={tx}/>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default ControlPanel","import { useEffect } from \"react\"\nimport { statusMessageAction } from \"../context/actions\"\nimport { Context } from \"../context/context-provider\"\nimport { StatusLevel } from \"../context/reducer\"\nimport './status-message.css'\n\ninterface IStatusMessage extends Context{\n}\n\nconst StatusMessage = ({state, dispatch}: IStatusMessage) => {\n    useEffect(() => {\n        setTimeout(() => dispatch(statusMessageAction({\n            message:\"\",\n            level: StatusLevel.BLANK,\n        })), 10000)\n    },[state.statusMessage])\n    \n    return (\n        <div>\n            <div \n                style={{\n                    position: 'fixed',\n                    zIndex: 1000\n                }} \n                className={`status-message-${state.statusMessage.level} w-8/12 p-10`}\n            >\n                {state?.statusMessage?.message &&\n                    `${state?.statusMessage?.message}`\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default StatusMessage","import './App.css';\nimport Header from './components/header'\nimport { connect } from './context/connector';\nimport { Context } from './context/context-provider';\nimport Blockchain from './components/blockchain';\nimport ControlPanel from './components/control-panel';\nimport StatusMessage from './components/status-message';\n\nfunction App({state, dispatch}: Context) {\n  return (\n    <div className=\"bg-background\">\n      <div className=\"w-8/12\">\n        <StatusMessage {...{state, dispatch}}/>\n      <Header {...{state, dispatch}}/>\n        <Blockchain {...{state, dispatch}}/>\n      </div>\n      <ControlPanel {...{state, dispatch}}/>\n    </div>\n  );\n}\n\nexport default connect(App);\n","import React from 'react'\nimport {GlobalStateContext} from './context-provider'\n\nexport const connect = (Component: any) => {\n    return (props: any) => (\n        <GlobalStateContext.Consumer>\n            {value => {\n                const {state, dispatch} = value\n                return (\n                    <Component {...props} state={state} dispatch={dispatch}/>\n                )\n            }}\n        </GlobalStateContext.Consumer>\n    )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport FirstcoinStateProvider from \"../src/context/context-provider\"\nimport './styles/theme.css'\n\nReactDOM.render(\n  <FirstcoinStateProvider>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </FirstcoinStateProvider>\n,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}