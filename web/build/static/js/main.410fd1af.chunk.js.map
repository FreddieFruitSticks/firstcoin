{"version":3,"sources":["context/actions.ts","components/header.tsx","context/reducer.ts","components/block.tsx","context/context-provider.tsx","components/transaction.tsx","services/index.ts","components/blockchain.tsx","components/unconfirmed-tx.tsx","components/wallet.tsx","components/control-panel.tsx","components/status-message.tsx","App.tsx","context/connector.tsx","reportWebVitals.js","index.js"],"names":["ActionType","Header","state","dispatch","className","StatusLevel","blockchainAction","payload","type","BLOCKCHAIN","hostDetailsAction","HOST_DETAILS","unconfirmedTxPoolAction","UNCONFIRMED_TX_POOL","statusMessageAction","STATUS_MESSAGE","Direction","initialState","blockchain","blocks","hostDetails","unconfirmedTxPool","statusMessage","message","reducer","action","console","log","BLOCK","clone","JSON","parse","stringify","push","ipAddress","str","parseInt","split","sortedHosts","sort","first","second","host","CLEAR_HOSTS","pool","level","GlobalStateContext","React","createContext","warn","FirstcoinStateProvider","children","useReducer","Provider","value","TxOut","txOData","formatKey","scriptPubKey","TxIn","txInData","txid","vout","scriptSig","substring","key","length","Transaction","txData","timestamp","toString","map","txO","index","vin","txIn","Block","blockData","last","direction","useState","expand","setExpand","duration","height","onClick","hash","previousHash","difficultyLevel","transactions","tx","Forwards","fetchBlockchain","a","fetch","response","ok","json","Error","status","mineBlock","method","body","b","fetchHosts","fetchHostDetails","fetchUnconfirmedTxPool","payAddress","to","amount","address","resp","fetchControlPanel","hosts","forEach","Object","values","Button","fetching","setFetching","mine","block","src","Blockchain","useEffect","chain","f","messagesEndRef","useRef","current","scrollIntoView","behavior","ref","UnconfirmedTx","unconfirmedTxData","Wallet","totalAmount","setTo","setAmount","pay","ERROR","atob","navigator","clipboard","writeText","onChange","event","target","rows","placeholder","ControlPanel","hostDetail","StatusMessage","setTimeout","BLANK","style","position","zIndex","connect","Component","props","Consumer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.410fd1af.chunk.js","sourcesContent":["import { Blockchain, IBlock, IHostDetails, IStatusMessage, ITransaction } from \"./reducer\"\n\nexport enum ActionType {\n    BLOCKCHAIN=\"BLOCKCHAIN\",\n    BLOCK=\"BLOCK\",\n    HOST_DETAILS=\"HOST_DETAILS\",\n    UNCONFIRMED_TX_POOL=\"UNCONFIRMED_TX_POOL\",\n    CLEAR_HOSTS=\"CLEAR_HOSTS\",\n    STATUS_MESSAGE=\"STATUS_MESSAGE\"\n}\n\nexport interface IAction<T> {\n    type: ActionType;\n    payload: T\n}\n\nexport const blockchainAction = (payload: Blockchain) : IAction<Blockchain> => {\n    return {\n        type: ActionType.BLOCKCHAIN,\n        payload: payload\n    }\n}\n\nexport const blockAction = (payload: IBlock) : IAction<IBlock> => {\n    return {\n        type: ActionType.BLOCK,\n        payload: payload\n    }\n}\n\n\nexport const hostDetailsAction = (payload: IHostDetails) : IAction<IHostDetails> => {\n    return {\n        type: ActionType.HOST_DETAILS,\n        payload: payload\n    }\n}\n\nexport const clearHostDetailsAction = (payload: {}) : IAction<{}> => {\n    return {\n        type: ActionType.CLEAR_HOSTS,\n        payload: payload\n    }\n}\n\ninterface Pool{\n    pool: ITransaction[]\n}\n\nexport const unconfirmedTxPoolAction = (payload: Pool) : IAction<Pool> => {\n    return {\n        type: ActionType.UNCONFIRMED_TX_POOL,\n        payload: payload\n    }\n}\n\nexport const statusMessageAction = (payload: IStatusMessage) : IAction<IStatusMessage> => {\n    return {\n        type: ActionType.STATUS_MESSAGE,\n        payload: payload\n    }\n}","import {Context} from '../context/context-provider'\n\nconst Header = ({state, dispatch}: Context) => {\n\n    return(\n        <div className=\"bg-background2 flex flex-col items-center h-24 border-b border-grey mb-10\">\n            <div className=\"text-trendyBlue font-bold text-xl\">Firstcoin</div>\n            <div className=\"text-trendyGrey font-bold\">Freddie O'Donnell</div>\n            <div className=\"text-trendyGrey\">Cape Town</div>\n        </div>\n    )\n}\n\nexport default Header","import { ActionType, hostDetailsAction, IAction } from './actions';\n\nexport interface IBlock{\n    index: number;\n    previousHash: string;\n    transactions: ITransaction[];\n    timestamp: number;\n    difficultyLevel: number;\n    nonce: number;\n    hash: string;\n}\n\nexport interface ITxOutputs{\n    scriptPubKey: string;\n    value: number;\n}\n\nexport interface ITxInputs{\n    txid: string;\n    vout: number;\n    scriptSig: string;\n}\n\nexport interface ITransaction{\n    txid: string;\n    locktime: number;\n    vin: ITxInputs[];\n    vout: ITxOutputs[];\n    timestamp: number;\n}\n\nexport interface Blockchain{\n    blocks: IBlock[]\n}\n\nexport enum StatusLevel {\n    ERROR = \"ERROR\",\n    SUCCESS = \"SUCCESS\",\n    NOTICE = \"NOTICE\",\n    BLANK = \"BLANK\"\n  }\n\nexport interface IStatusMessage{\n    message: string;\n    level?: StatusLevel;\n}\n\nexport interface IHostDetails {\n    address: string;\n    totalAmount: number;\n    host: string;\n}\n\nexport interface InitialState {\n    blockchain: Blockchain;\n    hostDetails: IHostDetails[];\n    unconfirmedTxPool: ITransaction[];\n    statusMessage: IStatusMessage;\n}\n\nexport const initialState: InitialState = {\n    blockchain: {\n        blocks: []\n    },\n    hostDetails: [],\n    unconfirmedTxPool: [],\n    statusMessage:{\n        message:\"\"\n    }\n}\n\n\nconst reducer : (state: InitialState, action: IAction<any>) => InitialState = (state, action) => {\n    console.log(\"-------------state before-----------------\")\n    console.log(state)\n    console.log(\"----------------action--------------------\")\n    console.log(action)\n\n    switch (action.type) {\n        case ActionType.BLOCKCHAIN:{\n            const newState = {\n                ...state,\n                blockchain: {\n                    ...state.blockchain,\n                    ...action.payload\n                }\n            }\n            \n            return newState\n        }\n            \n        case ActionType.BLOCK:{\n            const newState = {\n                ...state,\n                blockchain: {\n                    ...state.blockchain,\n                    ...action.payload\n                }\n            }\n            \n            return newState\n        }\n        \n        case ActionType.HOST_DETAILS:{\n            const clone = JSON.parse(JSON.stringify(state.hostDetails));\n            clone.push(action.payload)\n            \n            const ipAddress = (str : string) => parseInt(str.split(\":\")[1]) \n        \n            const sortedHosts = clone.sort((first: IHostDetails, second: IHostDetails) => {\n                if (ipAddress(first.host) < ipAddress(second.host)){\n                    return -1\n                }\n              \n                return 1\n            })\n                \n            const newState = {\n                ...state,\n                hostDetails: sortedHosts,\n            }\n            \n            return newState\n        }\n        \n        case ActionType.CLEAR_HOSTS:{                        \n            const newState = {\n                ...state,\n                hostDetails: []\n            }\n            \n            return newState\n        }\n        \n        case ActionType.UNCONFIRMED_TX_POOL:{                        \n            const newState = {\n                ...state,\n                unconfirmedTxPool: action.payload.pool\n            }\n            \n            return newState\n        }\n        \n        case ActionType.STATUS_MESSAGE:{     \n            if (action.payload.message !== state.statusMessage.message && action.payload.level !== state.statusMessage.level){\n                const newState = {\n                    ...state,\n                    statusMessage: {...action.payload}\n                }\n                \n                return newState\n            }\n                               \n            \n            return state\n        }\n        \n      default:\n        return state;\n    }\n  }\n  \n  export default reducer","import 'animate.css'\nimport './block.css'\nimport {IBlock} from '../context/reducer'\nimport { useState } from 'react'\nimport Transaction from './transaction'\nimport '../styles/theme.css'\nimport AnimateHeight from 'react-animate-height';\n\nexport enum Direction {\n  Backwards,\n  Forwards\n}\n\ninterface IBlockProps{\n  blockData: IBlock; \n  last: boolean;\n  direction: Direction;\n}\n\nconst Block = ({blockData, last, direction}: IBlockProps) => {\n   const [expand, setExpand] = useState(false)\n   \n    return (\n      <div className=\"w-full flex flex-col items-center\">\n        <div className=\"w-5/12 transform transition duration-500 hover:scale-105 flex flex-col items-center\">\n        <AnimateHeight\n          duration={ 500 }\n          height={ expand ? 'auto': 150}\n          className=\"w-full border-2 border-trendyGrey rounded-lg animate__animated animate__rubberBand\"\n        >\n        <div onClick={() => setExpand(!expand)} className=\" cursor-pointer\">\n            <div className={`rounded text-trendyGrey bg-trendyGreen tran block p-2 overflow-hidden`}>\n              <div>\n                index: {blockData.index}\n              </div>\n              <div>\n                hash: {blockData.hash.substring(0,10)}...\n              </div>          \n              <div>\n                prev: {blockData.previousHash ? blockData.previousHash.substring(0,10) : null}\n              </div>\n              <div>\n                difficulty: {blockData.difficultyLevel}\n              </div>\n              <div>\n                time: {blockData.timestamp}\n              </div>\n              <div>\n                transactions: {blockData.transactions.map((tx, index) => {\n                  return <Transaction key={index} txData={tx}/>\n                })}\n              </div>\n            </div>\n\n          {/* {!displayArrow && <img className=\"\" src={'minecoin.gif'} alt=\"loading...\" />} */}\n\n        </div>\n        </AnimateHeight>\n        </div>\n        \n        {direction == Direction.Forwards &&\n          !last && <span className=\"arrow arrow-down\"></span>\n        }\n      </div>\n      \n\n        \n    )\n}\n\nexport default Block","import React, { ReactChild, useReducer } from 'react'\nimport { IAction } from './actions'\nimport reducer, { InitialState, initialState } from './reducer'\n\nexport interface Context {\n    state: InitialState,\n    dispatch: React.Dispatch<IAction<any>>\n}\n\nexport const GlobalStateContext = React.createContext<Context>({\n    state: initialState,\n    dispatch: (action: IAction<any>) => console.warn(`WARNING! Dispatch function not set. Attemting to dispatch ${action}`)\n})\n\nconst FirstcoinStateProvider = ({children}:{children: ReactChild}) => {\n    let localState = {}\n    \n    let [state, dispatch] = useReducer(reducer, {...initialState, ...localState})\n    console.log(\"-------------state after-----------------\")\n    console.log(state)\n    \n    return (\n        <GlobalStateContext.Provider value={{state, dispatch}}>\n            {children}\n        </GlobalStateContext.Provider>\n    )\n}\n\nexport default FirstcoinStateProvider","\nimport 'animate.css'\nimport './block.css'\nimport {ITransaction, ITxInputs, ITxOutputs} from '../context/reducer'\n\nconst Transaction = ({txData}: {txData: ITransaction}) => {\n    return (\n        <div className=\"text-xs\">\n            <div>\n                id: {txData.txid.substring(0,5)}...\n            </div> \n            <div>\n                timestamp: {txData.timestamp.toString().substring(0,10)}...\n            </div>\n            <div>\n                txO: [\n                        {txData.vout.map((txO, index) => {\n                            return (\n                                <div key={index} className=\"pl2\">\n                                    <TxOut txOData={txO}/>\n                                </div>\n                            )\n                    })}\n                ]\n            </div>\n            <div>\n                txIn: [\n                        {txData.vin.map((txIn, index) => {\n                            return (\n                                <div key={index} className=\"pl2\">\n                                    <TxIn txInData={txIn}/>\n                                </div>\n                            )\n                    })}\n                ]\n            </div>\n        </div> \n    )\n}\n\nconst TxOut = ({txOData}: {txOData: ITxOutputs}) => {\n    return (\n        <div>\n            <div>\n                scriptPubKey: {formatKey(txOData.scriptPubKey)}\n            </div>\n            <div>\n                value: {txOData.value}\n            </div>\n        </div>\n    )\n}\n\nconst TxIn = ({txInData}: {txInData: ITxInputs}) => {\n    return (\n        <div>\n            <div>\n                txid: {txInData.txid}\n            </div>\n            <div>\n                vout: {txInData.vout}\n            </div>\n            <div>\n                scriptSig: {txInData.scriptSig.substring(0,5)} ...\n            </div>\n        </div>\n    )\n}\n\nexport const formatKey : (key: string) => string = (key: string) => {\n    return(\n        `${key.substring(0,5)}...${key.substring(20,25)}...${key.substring(key.length - 6,key.length - 1)}`\n    )\n}\n\nexport default Transaction","import { clearHostDetailsAction, hostDetailsAction, IAction, unconfirmedTxPoolAction } from '../context/actions';\nimport {Blockchain, IHostDetails, IBlock, ITransaction} from '../context/reducer'\n\nexport const fetchBlockchain : () => Promise<Blockchain> = async () => {\n    const response = await fetch(`http://localhost:8080/block-chain`);\n    if (response.ok){\n      return response.json()\n    }\n    throw new Error(\"fetch blockchain returns \"+response.status)\n}\n\nexport const mineBlock : () => Promise<IBlock> = async () => {\n  const response = await fetch(`http://localhost:8080/create-block`,{\n    method: \"POST\",\n    body:JSON.stringify({a: 1, b: 'Textual content'})\n  });\n  if (response.ok){\n    return response.json()\n  }\n  const message = await response.json()\n  console.log(message)\n  throw new Error(\"create blockchain returns \"+response.status)\n}\n\nexport const fetchHosts : () => Promise<string[]> = async () => {\n  const response = await fetch(`http://localhost:8080/hosts`,{\n    method: \"POST\",\n    body: JSON.stringify({})\n  });\n  if (response.ok){\n    return response.json()\n  }\n  throw new Error(\"fetch hosts returns \"+response.status)\n}\n\nexport const fetchHostDetails : (host: string) => Promise<IHostDetails> = async (host) => {\n  const response = await fetch(`http://${host}/host-details`,{\n    method: \"GET\"\n  });\n  if (response.ok){\n    return response.json()\n  }\n  throw new Error(\"fetch host details returns \"+response.status)\n}\n\ntype txPoolObject = { [key: string]: ITransaction };\n\nexport const fetchUnconfirmedTxPool : () => Promise<txPoolObject> = async () => {\n  const response = await fetch(`http://localhost:8080/txpool`,{\n    method: \"GET\"\n  });\n  if (response.ok){\n    return response.json()\n  }\n  throw new Error(\"fetch host details returns \"+response.status)\n}\n\nexport const payAddress : (host: string, to: string, amount: number) => Promise<txPoolObject> = async (host, to, amount) => {\n  const response = await fetch(`http://${host}/spend-coin`,{\n    method: \"POST\",\n    body: JSON.stringify({address: to, amount: amount})\n  });\n  \n  if (response.ok){\n    return response.json()\n  }\n  \n  const resp = await response.json()\n  throw new Error(`pay from host ${host} returns ${response.status} ${resp.message}`)\n}\n\nexport const fetchControlPanel = async (dispatch: React.Dispatch<IAction<any>>) => {\n  try{\n      dispatch(clearHostDetailsAction({}))\n      \n      const hosts = await fetchHosts()    \n      const a = hosts.forEach(async host => {\n        try{\n          let hostDetails = await fetchHostDetails(host)\n          hostDetails.host=host\n      \n          dispatch(hostDetailsAction({\n            ...hostDetails\n          }))\n          \n        }catch(e){\n          console.log(e)\n        }\n      });\n      \n      const unconfirmedTxPool = await fetchUnconfirmedTxPool()\n      dispatch(unconfirmedTxPoolAction({\n          pool: Object.values(unconfirmedTxPool)\n      }))   \n      \n  }catch(e){\n      console.log(e)\n  }\n}","import 'animate.css'\nimport './block.css'\nimport Block, { Direction } from './block'\nimport { useEffect, useRef, useState } from 'react'\nimport { fetchBlockchain, fetchControlPanel, mineBlock } from '../services'\nimport { Context } from '../context/context-provider'\nimport { blockAction, blockchainAction, IAction } from '../context/actions'\nimport './style.css'\nimport React from 'react'\n\ninterface IBlockchain extends Context{\n}\n\nconst Blockchain = ({state, dispatch}: IBlockchain) => {\n    useEffect(() => {\n        async function f(){\n            try{\n                const chain = await fetchBlockchain()\n                dispatch(blockchainAction({\n                    blocks: chain.blocks\n                }))\n            }catch(e){\n                console.log(e)\n            }\n        }\n\n        f()\n\n    },[dispatch])\n    const messagesEndRef = useRef<any>(null)\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }\n    \n    useEffect(scrollToBottom, [state.blockchain]);\n    \n    return (\n        <div>\n            <div className=\"grid grid-cols-1 gap-4\">\n                {state.blockchain.blocks.map((block, index) => {\n                    return (\n                        <Block \n                        key={index} \n                        direction={Direction.Forwards} \n                        last={index === state.blockchain.blocks.length - 1} \n                        blockData={block}\n                    />     \n                )})}\n                <div ref={messagesEndRef}/>\n\n            </div>\n            <div className=\"pt-10 flex justify-center items-center w-full\">\n                <Button dispatch={dispatch}/>\n            </div>\n        </div>\n        \n    )\n}\n\nconst Button : any = ({dispatch}:{dispatch:React.Dispatch<IAction<any>>}) => {\n    const [fetching, setFetching] = useState(false)\n    const mine = async () => {\n        try{\n            setFetching(true)\n            const block = await mineBlock()\n            dispatch(blockAction(block))\n            fetchControlPanel(dispatch)\n        }catch(e){\n            console.log(e)\n        }\n        setFetching(false)\n\n    }\n    return (\n        <div>\n            {fetching ?\n            <div className=\"flex justify-center\">\n                <img className=\"w-3/6\" src=\"gntl-mining.gif\">\n                </img>\n            </div>\n            :\n            <div onClick={mine} className={`h-24 w-36 mb-28 bg-trendyBlue text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                Mine\n            </div>}\n        </div> \n    )\n}\n\nexport default Blockchain","import { ITransaction } from \"../context/reducer\"\nimport { formatKey } from \"./transaction\"\n\nconst UnconfirmedTx = ({unconfirmedTxData}: {unconfirmedTxData: ITransaction}) => {\n    return(\n        <div className=\"border border-black w-11/12 h-24 mb-10 bg-white\">\n            <div className=\"p-2\">\n                using tx: {formatKey(unconfirmedTxData.vin[0].txid)}\n            </div>\n            <div className=\"p-2\">\n                pay to: {formatKey(unconfirmedTxData.vout[0].scriptPubKey)}  amount: {unconfirmedTxData.vout[0].value}\n            </div>\n                 {unconfirmedTxData?.vout[1]&&\n                     <>\n                        {formatKey(unconfirmedTxData?.vout[1]?.scriptPubKey)}  amount: {unconfirmedTxData?.vout[1]?.value}\n                     </>\n                }\n            <div>\n            </div>\n        </div>\n    )\n}\n\nexport default UnconfirmedTx","import { useState } from 'react'\nimport { IAction, statusMessageAction } from '../context/actions'\nimport { payAddress } from '../services'\nimport { formatKey } from './transaction'\nimport { fetchControlPanel } from \"../services\"\n\nimport './wallet.css'\nimport { StatusLevel } from '../context/reducer'\n\ninterface IWallet{\n    colour?: string;\n    address: string;\n    totalAmount: number;\n    host: string;\n    dispatch: React.Dispatch<IAction<any>>;\n}\n\nconst Wallet = ({host, address, totalAmount, dispatch}: IWallet) => {\n    const [to, setTo] = useState(\"\")\n    const [amount, setAmount] = useState(0)\n    const copy = () => {navigator.clipboard.writeText(address)}\n    const pay = async () => {\n        try{\n            const response = await payAddress(host, to, amount)\n            fetchControlPanel(dispatch)\n        }catch(e: any){\n            dispatch(statusMessageAction({\n                level: StatusLevel.ERROR,\n                message: e\n            }))\n            console.log(e)\n        }\n    }\n    return (\n        <div className=\"rounded-md text-white p-4 min-h-100 w-4/5 bg-trendyBlue mb-10\">\n            <div className=\"justify-content flex space-x-4 pb-4\">\n                <div className=\"flex items-center\">\n                    <div>\n                        address: {formatKey(atob(address))}\n                    </div>\n                </div>\n                <div onClick={copy} className={`h-10 w-16 bg-trendyYellow text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                    Copy\n                </div> \n                \n            </div>\n            <div className=\"mb-4 flex\">\n                <div className=\"flex align-center space-between\">\n                    <div className=\"text-white pr-4 whitespace-nowrap flex flex-col justify-center\"><div className=\"\">Pay:</div></div>\n                    <textarea onChange={(event) => setAmount(parseInt(event.target.value))} className=\"form-textarea mt-1 mr-2 block w-9/12 border-white overflow-hidden\" rows={1} placeholder=\"Amount\"></textarea>\n                    <textarea onChange={(event) => setTo(event.target.value)} className=\"form-textarea mt-1 mr-2 block w-9/12 border-white overflow-hidden\" rows={1} placeholder=\"To\"></textarea>\n                </div>\n                <div onClick={pay} className={`h-10 w-16 mt-1 bg-trendyYellow text-white flex justify-center items-center transform transition duration-500 hover:scale-105 cursor-pointer font-semibold py-2 px-4 rounded`}>\n                    Pay\n                </div> \n            </div>\n            <div>\n                Balance: {totalAmount}\n            </div>\n        </div>\n    )\n}\n\nexport default Wallet","import { useEffect } from \"react\"\nimport { Context } from \"../context/context-provider\"\nimport { fetchControlPanel } from \"../services\"\nimport UnconfirmedTx from \"./unconfirmed-tx\"\nimport Wallet from \"./wallet\"\n\ninterface IControlPanel extends Context{\n}\n\nconst ControlPanel = ({state, dispatch}: IControlPanel) => {\n    useEffect(() => {\n        fetchControlPanel(dispatch)\n    },[dispatch])\n    \n    return (\n        <div className=\"flex flex-col items-center border-4 border-trendyTurquoise rounded-lg fixed right-0 h-screen bottom-0 w-4/12 overflow-y-scroll\">\n            <div className=\"flex mb-16 items-center justify-center mt-10 font-trendyGrey text-3xl font-medium\">\n                Control Panel\n            </div>\n            <div className=\"flex mb-10 items-center justify-center font-trendyGrey text-xl font-medium\">\n                Global Wallets\n            </div>\n            {state?.hostDetails?.map((hostDetail, index) => {\n                return (\n                    <Wallet key={index} dispatch={dispatch} host={hostDetail.host} address={hostDetail.address} totalAmount={hostDetail.totalAmount}/>\n                )\n            })}\n            <div className=\"flex mb-10 items-center justify-center font-trendyGrey text-xl font-medium\">\n                Unconfirmed Transaction pool\n            </div>\n            {state?.unconfirmedTxPool?.map((tx, index) => {\n                return (\n                    <UnconfirmedTx key={index} unconfirmedTxData={tx}/>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default ControlPanel","import { useEffect } from \"react\"\nimport { statusMessageAction } from \"../context/actions\"\nimport { Context } from \"../context/context-provider\"\nimport { StatusLevel } from \"../context/reducer\"\nimport './status-message.css'\n\ninterface IStatusMessage extends Context{\n}\n\nconst StatusMessage = ({state, dispatch}: IStatusMessage) => {\n    useEffect(() => {\n        setTimeout(() => dispatch(statusMessageAction({\n            message:\"\",\n            level: StatusLevel.BLANK,\n        })), 10000)\n    },[state.statusMessage])\n    \n    return (\n        <div>\n            <div \n                style={{\n                    position: 'fixed',\n                    zIndex: 1000\n                }} \n                className={`status-message-${state.statusMessage.level} w-8/12 p-10`}\n            >\n                {state?.statusMessage?.message &&\n                    `${state?.statusMessage?.message}`\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default StatusMessage","import './App.css';\nimport Header from './components/header'\nimport { connect } from './context/connector';\nimport { Context } from './context/context-provider';\nimport Blockchain from './components/blockchain';\nimport ControlPanel from './components/control-panel';\nimport StatusMessage from './components/status-message';\n\nfunction App({state, dispatch}: Context) {\n  return (\n    <div className=\"bg-background\">\n      <div className=\"w-8/12\">\n        <StatusMessage {...{state, dispatch}}/>\n      <Header {...{state, dispatch}}/>\n        <Blockchain {...{state, dispatch}}/>\n      </div>\n      <ControlPanel {...{state, dispatch}}/>\n    </div>\n  );\n}\n\nexport default connect(App);\n","import React from 'react'\nimport {GlobalStateContext} from './context-provider'\n\nexport const connect = (Component: any) => {\n    return (props: any) => (\n        <GlobalStateContext.Consumer>\n            {value => {\n                const {state, dispatch} = value\n                return (\n                    <Component {...props} state={state} dispatch={dispatch}/>\n                )\n            }}\n        </GlobalStateContext.Consumer>\n    )\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport FirstcoinStateProvider from \"../src/context/context-provider\"\nimport './styles/theme.css'\n\nReactDOM.render(\n  <FirstcoinStateProvider>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </FirstcoinStateProvider>\n,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}